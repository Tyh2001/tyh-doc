{"version":3,"sources":["webpack:///./src/views/login/index.vue?2e5c","webpack:///./src/views/login/index.vue?300c","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?e0c5","webpack:///./src/views/login/index.vue","webpack:///./src/api/user.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","$router","push","_v","model","value","user","callback","$$v","$set","expression","loading","subonLogin","onRegister","staticRenderFns","name","data","userName","userPassword","mounted","$notify","info","title","message","dangerouslyUseHTMLString","duration","position","methods","component","onLogin","request","method","url","getSettingSelect"],"mappings":"2IAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,eAAe,CAACF,EAAG,MAAM,CAACG,YAAY,SAAS,CAACH,EAAG,MAAM,CAACE,MAAM,CAAC,IAAM,oLAAoLE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,KAAK,WAAWP,EAAG,IAAI,CAACG,YAAY,WAAW,CAACP,EAAIY,GAAG,4BAA4BR,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,IAAI,CAACG,YAAY,SAAS,CAACP,EAAIY,GAAG,YAAYR,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,UAAY,GAAG,YAAc,UAAUO,MAAM,CAACC,MAAOd,EAAIe,KAAa,SAAEC,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIe,KAAM,WAAYE,IAAME,WAAW,mBAAmBf,EAAG,IAAI,CAACG,YAAY,SAAS,CAACP,EAAIY,GAAG,QAAQR,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAW,UAAY,GAAG,YAAc,SAASO,MAAM,CAACC,MAAOd,EAAIe,KAAiB,aAAEC,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIe,KAAM,eAAgBE,IAAME,WAAW,uBAAuBf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,QAAUN,EAAIoB,SAASZ,GAAG,CAAC,MAAQR,EAAIqB,aAAa,CAACrB,EAAIY,GAAG,WAAW,GAAGR,EAAG,MAAM,CAACG,YAAY,eAAe,CAACH,EAAG,IAAI,CAACJ,EAAIY,GAAG,WAAWR,EAAG,IAAI,CAACG,YAAY,YAAYC,GAAG,CAAC,MAAQR,EAAIsB,aAAa,CAACtB,EAAIY,GAAG,gBAAgBR,EAAG,IAAI,CAACG,YAAY,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,KAAK,QAAQ,CAACX,EAAIY,GAAG,eACx5CW,EAAkB,G,oECkEtB,GACEC,KAAM,aACNC,KAFF,WAGI,MAAO,CACLV,KAAM,CACJW,SAAU,cACVC,aAAc,YAEhBP,SAAS,IAGbQ,QAXF,WAaI3B,KAAK4B,QAAQC,KAAK,CAChBC,MAAO,OACPC,QAAS,2GAOTC,0BAA0B,EAC1BC,SAAU,EACVC,SAAU,cAGdC,QAAS,CAEP,WAFJ,WAEA,+KACA,aADA,SAEA,iBAFA,gBAEA,EAFA,EAEA,KAEA,kBACA,sBALA,6BAOA,GAPA,iDAOA,EAPA,WAQA,kDARA,wBASA,gBACA,oCACA,sBACA,gBACA,eAEA,oBAfA,kDAmBA,sBACA,mBACA,eAEA,aAvBA,+CA0BId,WA5BJ,WA6BM,EAAN,kBACQU,QAAS,cACTE,SAAU,SC7H4U,I,wBCQ1VG,EAAY,eACd,EACAtC,EACAwB,GACA,EACA,KACA,WACA,MAIa,aAAAc,E,2CCnBf,oFAOaC,EAAU,WACrB,OAAOC,eAAQ,CACbC,OAAQ,OACRC,IAAK,kBAKIC,EAAmB,WAC9B,OAAOH,eAAQ,CACbC,OAAQ,MACRC,IAAK","file":"js/chunk-96a0504e.2f50cd2d.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=435f858b&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"loginIndex\"}},[_c('div',{staticClass:\"photo\"},[_c('img',{attrs:{\"src\":\"http://r.photo.store.qq.com/psc?/V52OzcjM296N4D3IEo5e1DfOQZ1pM1IO/45NBuzDIW489QBoVep5mcQy2B2YFlT1RLRHihM9ad7lpFJGoQQE5khd*kn0j*bnbIzPkplEqpg*mdY5SN4ozH.WlbL0Nrtw5DOpFddNOqa0!/r\"},on:{\"click\":function($event){return _vm.$router.push('/')}}})]),_c('p',{staticClass:\"Welcome\"},[_vm._v(\"Welcome to my website.\")]),_c('div',{staticClass:\"loginBox\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"用户名或账号\")]),_c('el-input',{attrs:{\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"请输入用户名\"},model:{value:(_vm.user.userName),callback:function ($$v) {_vm.$set(_vm.user, \"userName\", $$v)},expression:\"user.userName\"}}),_c('p',{staticClass:\"title\"},[_vm._v(\"密码\")]),_c('el-input',{attrs:{\"size\":\"small\",\"type\":\"password\",\"clearable\":\"\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.user.userPassword),callback:function ($$v) {_vm.$set(_vm.user, \"userPassword\", $$v)},expression:\"user.userPassword\"}}),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\",\"loading\":_vm.loading},on:{\"click\":_vm.subonLogin}},[_vm._v(\" 登入 \")])],1),_c('div',{staticClass:\"registerBox\"},[_c('p',[_vm._v(\"没有账号？\")]),_c('p',{staticClass:\"addNumber\",on:{\"click\":_vm.onRegister}},[_vm._v(\" 创建一个账户 \")])]),_c('p',{staticClass:\"goHome\",on:{\"click\":function($event){return _vm.$router.push('/')}}},[_vm._v(\" 返回首页 \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"loginIndex\">\n    <div class=\"photo\">\n      <img\n        src=\"http://r.photo.store.qq.com/psc?/V52OzcjM296N4D3IEo5e1DfOQZ1pM1IO/45NBuzDIW489QBoVep5mcQy2B2YFlT1RLRHihM9ad7lpFJGoQQE5khd*kn0j*bnbIzPkplEqpg*mdY5SN4ozH.WlbL0Nrtw5DOpFddNOqa0!/r\"\n        @click=\"$router.push('/')\"\n      >\n    </div>\n\n    <p class=\"Welcome\">Welcome to my website.</p>\n\n    <!-- 登录框 -->\n    <div class=\"loginBox\">\n      <!-- 账号 -->\n      <p class=\"title\">用户名或账号</p>\n      <el-input\n        v-model=\"user.userName\"\n        size=\"small\"\n        clearable\n        placeholder=\"请输入用户名\"\n      />\n\n      <!-- 密码 -->\n      <p class=\"title\">密码</p>\n      <el-input\n        v-model=\"user.userPassword\"\n        size=\"small\"\n        type=\"password\"\n        clearable\n        placeholder=\"请输入密码\"\n      />\n\n      <el-button\n        type=\"success\"\n        size=\"small\"\n        :loading=\"loading\"\n        @click=\"subonLogin\"\n      >\n        登入\n      </el-button>\n    </div>\n\n    <!-- 注册 -->\n    <div\n      class=\"registerBox\"\n    >\n      <p>没有账号？</p>\n      <p\n        class=\"addNumber\"\n        @click=\"onRegister\"\n      >\n        创建一个账户\n      </p>\n    </div>\n\n    <p\n      class=\"goHome\"\n      @click=\"$router.push('/')\"\n    >\n      返回首页\n    </p>\n  </div>\n</template>\n\n<script>\nimport { Message } from 'at-ui'\nimport { onLogin } from '@/api/user'\nexport default {\n  name: 'loginIndex',\n  data () {\n    return {\n      user: {\n        userName: '15211111111',\n        userPassword: '12345678'\n      },\n      loading: false // 按钮 loading\n    }\n  },\n  mounted () {\n    // 页面加载完成之后显示弹框\n    this.$notify.info({\n      title: '登录账号',\n      message: (`\n        游客登录测试账号：\n        <br />\n        账号：15211111111\n        <br />\n        密码：12345678\n      `),\n      dangerouslyUseHTMLString: true,\n      duration: 0,\n      position: 'top-left'\n    })\n  },\n  methods: {\n    // 登录\n    async subonLogin () {\n      this.loading = true\n      const { data } = await onLogin()\n\n      const name = this.user.userName // 获取到输入的用户名\n      const pass = this.user.userPassword // 获取到输入的密码\n\n      for (const key in data) {\n        if (data[key].userInfo.userName === name && data[key].userPassword === pass) {\n          const userInfo = data[key].userInfo // 获取用户的登录信息\n          this.$store.commit('changeUserInfo', userInfo) // 登录成功后保留用户信息\n          Message.success({\n            message: '登录成功！',\n            duration: 900\n          })\n          this.$router.push('/')\n          return\n        }\n      }\n      Message.warning({\n        message: '账号或密码错误！',\n        duration: 1000\n      })\n      this.loading = false\n    },\n    // 注册\n    onRegister () {\n      Message.error({\n        message: '注册功能暂时不能使用！',\n        duration: 1000\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n#loginIndex {\n  width: 400px;\n  height: 500px;\n  background-color: #fff;\n  box-shadow: 0 0 4px 0px rgba(0, 0, 0, 0.3), 0 0 7px 2px rgba(0, 0, 0, 0.15);\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  margin: auto;\n  padding: 30px;\n  box-sizing: border-box;\n  border-radius: 4px;\n}\n.photo {\n  width: 50px;\n  margin: auto;\n  img {\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    border: 3px solid rgba(216, 216, 216, 0.4);\n    cursor: pointer;\n  }\n}\n// 欢迎\n.Welcome {\n  text-align: center;\n  color: #24292e;\n  font-size: 20px;\n  margin: 20px 0 20px 0;\n}\n// 登录盒子\n.loginBox {\n  width: 100%;\n  background: #f6f8fa;\n  border: 1px solid #eaecef;\n  border-radius: 5px;\n  padding: 20px;\n  box-sizing: border-box;\n  // 描述文字\n  .title {\n    font-size: 13px;\n    font-weight: 600;\n    color: #24292e;\n    margin-bottom: 3px;\n  }\n  .el-input {\n    margin-bottom: 14px;\n  }\n  // 登录按钮\n  .el-button {\n    width: 100%;\n    background: #2ea44f;\n  }\n}\n// 注册盒子\n.registerBox {\n  width: 100%;\n  height: 40px;\n  border: 1px solid #d1d5da;\n  border-radius: 5px;\n  margin: 24px auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  cursor: pointer;\n  user-select: none;\n  .addNumber {\n    color: #0366d6;\n  }\n}\n// 返回首页\n.goHome {\n  font-size: 14px;\n  color: #0366d6;\n  float: right;\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=435f858b&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=435f858b&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"435f858b\",\n  null\n  \n)\n\nexport default component.exports","/**\n * 用户相关\n */\n\nimport request from '@/utils/request'\n\n// 登录\nexport const onLogin = () => {\n  return request({\n    method: 'POST',\n    url: '/tyh/onLogin'\n  })\n}\n\n// 获取设置下拉列表内容\nexport const getSettingSelect = () => {\n  return request({\n    method: 'GET',\n    url: '/tyh/setting/select'\n  })\n}\n"],"sourceRoot":""}